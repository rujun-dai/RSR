<head>
    <title>Resume Filter</title>
    {% load static %}
    <!--for bootstrap-->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <!--for autocomplete function-->
    <!-- django autocomplete light gets slow with several thousands of entries may need change later on-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
    <script type="text/javascript" src="/static/collected/admin/js/vendor/jquery/jquery.js"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'autocomplete_light/select2.css' %}" />
    <script type="text/javascript" src="{% static 'autocomplete_light/jquery.init.js' %}"></script>
    <script type="text/javascript" src="{% static 'autocomplete_light/autocomplete.init.js' %}"></script>
    <script type="text/javascript" src="{% static 'autocomplete_light/select2.js' %}"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'autocomplete_light/vendor/select2/dist/css/select2.css' %}" />
    <script type="text/javascript" src="{% static 'autocomplete_light/vendor/select2/dist/js/select2.full.js' %}"></script>
    <script type="text/javascript" src="{% static 'autocomplete_light/forward.js' %}"></script>
    <script type="text/javascript" src="{% static 'admin/js/vendor/jquery/jquery.js' %}"></script>
</head>
<style>
    .navbar-default {
        background-color: #e8ebef !important;
        border-color: transparent;
        font-size: 20px !important;
    }
    .jumbotron {
        background-color: #e8ebef !important;
    }

    ul{
        width: 150px;
        margin-left: auto;
        margin-right: auto;}
</style>
<body>
    {% load widget_tweaks %}
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="nav navbar-nav navbar-left">
                    <li><a href="{% url 'RSR:search' %}">New Search</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div id="about" class="jumbotron text-center">
        <h1>Resume Filter System</h1>
        <p>Select/type one or more the following fields</p>
    </div>

    <form action="" method="Get">
        <div class="well">
            <div class="row">
                <!-- Search Bar -->
                <div class="form-group col-sm-4 col-md-3">
                Search Bar:
                {% render_field personFilter.form.Name class="form-control" %}
                </div>
              <!-- Filters -->
                <div class="form-group col-sm-4 col-md-3">
                    School Attend:
                    {% render_field personFilter.form.SchoolAttend class="form-control" %}
                </div>
                <div class="form-group col-sm-4 col-md-3">
                    Graduation Date:
                    {% render_field personFilter.form.GraduateDate class="form-control" %}
                </div>
                <div class="form-group col-sm-4 col-md-3">
                    Degree Level:
                    {% render_field personFilter.form.DegreeLevel class="form-control" %}
                </div>
            </div>
            <div class="row">
                <div class="form-group col-sm-4 col-md-3">
                    Major:
                    {% render_field personFilter.form.Major class="form-control" %}
                </div>
                <div class="form-group col-sm-4 col-md-3">
                    GPA lower bound:
                    {% render_field personFilter.form.GPAlb class="form-control" %}
                </div>
                <div class="form-group col-sm-4 col-md-3">
                    GPA upper bound:
                    {% render_field personFilter.form.GPAub class="form-control" %}
                </div>
                <div class="form-group col-sm-4 col-md-3">
                    Coursework:
                    {% render_field personFilter.form.Coursework class="form-control" %}
                </div>
            </div>
            <div class="row">
                <div class="form-group col-sm-4 col-md-3">
                    Language Spoken:
                    {% render_field personFilter.form.Language class="form-control" %}
                </div>
                <div class="form-group col-sm-4 col-md-3">
                    Skills:
                    {% render_field personFilter.form.Skills class="form-control" %}
                </div>
                <div class="form-group col-sm-4 col-md-3">
                    Year of experience for skill:
                    {% render_field personFilter.form.YearOfExperienceForSkill class="form-control" %}
                </div>
                <div class="form-group col-sm-4 col-md-3">
                    Awards:
                    {% render_field personFilter.form.Award class="form-control" %}
                </div>
            </div>
            <div class="row">
                <div class="form-group col-sm-4 col-md-3">
                    Company worked at:
                    {% render_field personFilter.form.CompanyWorked class="form-control" %}
                </div>
                <div class="form-group col-sm-4 col-md-3">
                    Title:
                    {% render_field personFilter.form.Title class="form-control" %}
                </div>
                <div class="form-group col-sm-4 col-md-3">
                    Professional Development:
                    {% render_field personFilter.form.ProfessionalDevelopment class="form-control" %}
                </div>
                <div class="form-group col-sm-4 col-md-3">
                    Volunteering:
                    {% render_field personFilter.form.Volunteering class="form-control" %}
                </div>
            </div>
            <div class="row">
                <div class="form-group col-sm-4 col-md-3">
                    Club:
                    {% render_field personFilter.form.Club_Hobby class="form-control" %}
                </div>
                <div class="form-group col-sm-4 col-md-3">
                    Security Clearance:
                    {% render_field personFilter.form.SecurityClearance class="form-control" %}
                </div>
                <div class="form-group col-sm-4 col-md-3">
                    Work Authorization:
                    {% render_field personFilter.form.WorkAuthorization class="form-control" %}
                </div>
            </div>
            <div align="center">
            <button type="submit" class="btn btn-primary btn-lg">
                <span class="glyphicon glyphicon-search"></span> Search
            </button>
        </div>
        </div>
    </form>
    {{ form.media }}
    {% load search_tags %}
    <div align="center">
        <table class ="table table-bordered">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>School</th>
                    <th>Major</th>
                    <th>GPA</th>
                    <th>Degree Level</th>
                    <th>Skills</th>
                </tr>
            </thead>
            <tbody>
                {% for obj in personFilter.qs %}
                <tr>
                    <td><a href="{% url 'RSR:detail' obj.pk %}">{{obj.Name}}</a></td>
                    {% with obj|preview_details as detailsDict %}
                        <td>{{detailsDict|get_key:'School'}}</td>
                        <td>{{detailsDict|get_key:'Major'}}</td>
                        <td>{{detailsDict|get_key:'GPA'}}</td>
                        <td>{{detailsDict|get_key:'Degree Level'}}</td>
                        <td>{{detailsDict|get_key:'Skills'}}</td>
                    {% endwith %}
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</body>
